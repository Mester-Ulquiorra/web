---
import { Icon } from "astro-icon";

interface Props {
  id: string;
}

const { id } = Astro.props;
---

<appeal-button data-id={id}>
  <Icon name="mdi:gavel" /> Appeal
</appeal-button>

<style lang="scss">
  appeal-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    border-radius: var(--border-radius);
    transition: var(--transition);

    &:hover {
      background-color: var(--primary);
      color: var(--on-primary);
    }
  }

  [astro-icon] {
    height: 1rem;
  }
</style>

<script>
  class AppealButton extends HTMLElement {
    constructor() {
      super();
      const id = this.dataset.id as string;

      this.addEventListener("click", () => {
        sessionStorage.setItem("id", id);
        location.assign("/appeal");
      });
    }
  }

  customElements.define("appeal-button", AppealButton);
</script>
